(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{276:function(t,e,a){"use strict";a.r(e);var r=a(38),s=Object(r.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"生命周期概览"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生命周期概览","aria-hidden":"true"}},[t._v("#")]),t._v(" 生命周期概览")]),t._v(" "),a("p",[t._v("React 的组件可以定义为 class 或函数的形式。class 组件目前提供了更多的功能，这些功能将在此章节中详细介绍。如需定义 class 组件，需要继承 "),a("code",[t._v("React.Component")]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Shudong")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Hello"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("在 "),a("code",[t._v("React.Component")]),t._v(" 的子类中有个必须定义的 "),a("a",{attrs:{href:"#render"}},[a("code",[t._v("render()")])]),t._v(" 函数。本章节介绍其他方法均为可选。")]),t._v(" "),a("p",[a("strong",[t._v("我们强烈建议你不要创建自己的组件基类。")]),t._v(" 在 React 组件中，"),a("router-link",{attrs:{to:"/docs/composition-vs-inheritance.html"}},[t._v("代码重用的主要方式是组合而不是继承")]),t._v("。")],1),t._v(" "),a("blockquote",[a("p",[t._v("注意:")]),t._v(" "),a("p",[t._v("React 并不会强制你使用 ES6 的 class 语法。如果你倾向于不使用它，你可以使用 "),a("code",[t._v("create-react-class")]),t._v(" 模块或类似的自定义抽象来代替。请查阅"),a("router-link",{attrs:{to:"/docs/react-without-es6.html"}},[t._v("不使用 ES6")]),t._v(" 了解更多。")],1)]),t._v(" "),a("h3",{attrs:{id:"组件的生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件的生命周期","aria-hidden":"true"}},[t._v("#")]),t._v(" 组件的生命周期")]),t._v(" "),a("blockquote",[a("p",[t._v("{#the-component-lifecycle}\n每个组件都包含“生命周期方法”，你可以重写这些方法，以便于在运行过程中特定的阶段执行这些方法。"),a("strong",[t._v("你可以使用此"),a("a",{attrs:{href:"http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/",target:"_blank",rel:"noopener noreferrer"}},[t._v("生命周期图谱"),a("OutboundLink")],1),t._v("作为速查表")]),t._v("。在下述列表中，常用的生命周期方法会被加粗。其余生命周期函数的使用则相对罕见。")])]),t._v(" "),a("h4",{attrs:{id:"挂载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#挂载","aria-hidden":"true"}},[t._v("#")]),t._v(" 挂载")]),t._v(" "),a("p",[t._v("当组件实例被创建并插入 DOM 中时，其生命周期调用顺序如下：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#constructor"}},[a("strong",[a("code",[t._v("constructor()")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#static-getderivedstatefromprops"}},[a("code",[t._v("static getDerivedStateFromProps()")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#render"}},[a("strong",[a("code",[t._v("render()")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#componentdidmount"}},[a("strong",[a("code",[t._v("componentDidMount()")])])])])]),t._v(" "),a("blockquote",[a("p",[t._v("注意:")]),t._v(" "),a("p",[t._v("下述生命周期方法即将过时，在新代码中应该"),a("router-link",{attrs:{to:"/blog/2018/03/27/update-on-async-rendering.html"}},[t._v("避免使用它们")]),t._v("：")],1),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#unsafe_componentwillmount"}},[a("code",[t._v("UNSAFE_componentWillMount()")])])])])]),t._v(" "),a("h4",{attrs:{id:"更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新","aria-hidden":"true"}},[t._v("#")]),t._v(" 更新")]),t._v(" "),a("blockquote",[a("p",[t._v("{#updating}\n当组件的 props 或 state 发生变化时会触发更新。组件更新的生命周期调用顺序如下：")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#static-getderivedstatefromprops"}},[a("code",[t._v("static getDerivedStateFromProps()")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#shouldcomponentupdate"}},[a("code",[t._v("shouldComponentUpdate()")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#render"}},[a("strong",[a("code",[t._v("render()")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#getsnapshotbeforeupdate"}},[a("code",[t._v("getSnapshotBeforeUpdate()")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#componentdidupdate"}},[a("strong",[a("code",[t._v("componentDidUpdate()")])])])])]),t._v(" "),a("blockquote",[a("p",[t._v("注意:")]),t._v(" "),a("p",[t._v("下述方法即将过时，在新代码中应该"),a("router-link",{attrs:{to:"/blog/2018/03/27/update-on-async-rendering.html"}},[t._v("避免使用它们")]),t._v("：")],1),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#unsafe_componentwillupdate"}},[a("code",[t._v("UNSAFE_componentWillUpdate()")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#unsafe_componentwillreceiveprops"}},[a("code",[t._v("UNSAFE_componentWillReceiveProps()")])])])])]),t._v(" "),a("h4",{attrs:{id:"卸载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#卸载","aria-hidden":"true"}},[t._v("#")]),t._v(" 卸载")]),t._v(" "),a("blockquote",[a("p",[t._v("unmounting\n当组件从 DOM 中移除时会调用如下方法：")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#componentwillunmount"}},[a("strong",[a("code",[t._v("componentWillUnmount()")])])])])]),t._v(" "),a("h4",{attrs:{id:"错误处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#错误处理","aria-hidden":"true"}},[t._v("#")]),t._v(" 错误处理")]),t._v(" "),a("blockquote",[a("p",[t._v("error-handling\n当渲染过程，生命周期，或子组件的构造函数中抛出错误时，会调用如下方法：")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#static-getderivedstatefromerror"}},[a("code",[t._v("static getDerivedStateFromError()")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#componentdidcatch"}},[a("code",[t._v("componentDidCatch()")])])])]),t._v(" "),a("h3",{attrs:{id:"其他apis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他apis","aria-hidden":"true"}},[t._v("#")]),t._v(" 其他APIs")]),t._v(" "),a("blockquote",[a("p",[t._v("other-apis\n组件还提供了一些额外的 API：")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#setstate"}},[a("code",[t._v("setState()")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#forceupdate"}},[a("code",[t._v("forceUpdate()")])])])]),t._v(" "),a("h3",{attrs:{id:"class属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class属性","aria-hidden":"true"}},[t._v("#")]),t._v(" class属性")]),t._v(" "),a("blockquote",[a("p",[t._v("class-properties")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#defaultprops"}},[a("code",[t._v("defaultProps")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#displayname"}},[a("code",[t._v("displayName")])])])]),t._v(" "),a("h3",{attrs:{id:"实例属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例属性","aria-hidden":"true"}},[t._v("#")]),t._v(" 实例属性")]),t._v(" "),a("blockquote",[a("p",[t._v("instance-properties")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#props"}},[a("code",[t._v("props")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#state"}},[a("code",[t._v("state")])])])])])},[],!1,null,null,null);e.default=s.exports}}]);